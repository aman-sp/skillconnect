{% extends "base.html" %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="{% static 'css/tasks.css' %}">

<h2 class="page-title">Available Tasks</h2>

<div class="task-grid">
    {% for task in page_obj %}
        <div class="task-card">
            
            <div class="task-header">
                <span class="category-badge {{ task.category }}">{{ task.get_category_display }}</span>
                <h3>{{ task.title }}</h3>
            </div>

            <p class="task-desc">{{ task.description|truncatechars:120 }}</p>

            <div class="task-meta">
                <span class="budget">₹{{ task.budget }}</span>
                <span class="deadline">⏳ {{ task.deadline }}</span>
            </div>

            <a href="/tasks/{{ task.id }}/" class="view-btn">View Details →</a>

        </div>
    {% empty %}
        <p>No tasks available at the moment.</p>
    {% endfor %}
</div>

<!-- PAGINATION -->
<div class="pagination">
    {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">« Prev</a>
    {% endif %}

    <span class="current-page">
        Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
    </span>

    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">Next »</a>
    {% endif %}
</div>

{% endblock %}
